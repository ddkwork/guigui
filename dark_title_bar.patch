Subject: [PATCH] dark title bar
---
Index: go.mod
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/go.mod b/go.mod
--- a/go.mod	(revision e1f067da03d71c2c8add160424339061bb938103)
+++ b/go.mod	(date 1750643957658)
@@ -4,12 +4,17 @@
 
 require (
 	github.com/atotto/clipboard v0.1.4
-	github.com/ebitengine/purego v0.9.0-alpha.6
-	github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.5.0.20250608152909-a034565163b5
+	github.com/ebitengine/debugui v0.2.0-alpha.3
+	github.com/ebitengine/purego v0.9.0-alpha.7
+	github.com/gen2brain/mpeg v0.4.0
+	github.com/hajimehoshi/bitmapfont/v4 v4.1.0-alpha
+	github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.7
 	github.com/hajimehoshi/oklab v0.1.0
-	github.com/jeandeaual/go-locale v0.0.0-20250421151639-a9d6ed1b3d45
+	github.com/jakecoffman/cp/v2 v2.1.0
+	github.com/jeandeaual/go-locale v0.0.0-20250612000132-0ef82f21eade
 	github.com/kisielk/errcheck v1.9.0
 	github.com/rivo/uniseg v0.4.7
+	golang.org/x/image v0.28.0
 	golang.org/x/sys v0.33.0
 	golang.org/x/text v0.26.0
 	golang.org/x/tools v0.34.0
@@ -19,9 +24,13 @@
 require (
 	github.com/ebitengine/gomobile v0.0.0-20250329061421-6d0a8e981e4c // indirect
 	github.com/ebitengine/hideconsole v1.0.0 // indirect
+	github.com/ebitengine/oto/v3 v3.4.0-alpha.7 // indirect
 	github.com/go-text/typesetting v0.3.0 // indirect
+	github.com/hajimehoshi/go-mp3 v0.3.4 // indirect
 	github.com/jezek/xgb v1.1.1 // indirect
-	golang.org/x/image v0.28.0 // indirect
+	github.com/jfreymuth/oggvorbis v1.0.5 // indirect
+	github.com/jfreymuth/vorbis v1.0.2 // indirect
+	github.com/pierrec/lz4/v4 v4.1.22 // indirect
 	golang.org/x/mod v0.25.0 // indirect
 	golang.org/x/sync v0.15.0 // indirect
 )
Index: ebiten/internal/glfw/win32_window_windows.go
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ebiten/internal/glfw/win32_window_windows.go b/ebiten/internal/glfw/win32_window_windows.go
--- a/ebiten/internal/glfw/win32_window_windows.go	(revision a96153805e960ae475392305c98bc839653fb7d3)
+++ b/ebiten/internal/glfw/win32_window_windows.go	(date 1750649668924)
@@ -2427,5 +2427,10 @@
 	if !_glfw.initialized {
 		return 0, NotInitialized
 	}
-	return w.platform.handle, nil
+	return w.platform.handle, setCaptionColor(w.platform.handle, 0x292929)
+}
+
+func setCaptionColor(handle windows.HWND, color uint32) error {
+	const DWMWA_CAPTION_COLOR = 35
+	return windows.DwmSetWindowAttribute(handle, DWMWA_CAPTION_COLOR, unsafe.Pointer(&color), uint32(unsafe.Sizeof(color)))
 }
Index: go.sum
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/go.sum b/go.sum
--- a/go.sum	(revision e1f067da03d71c2c8add160424339061bb938103)
+++ b/go.sum	(date 1750643984223)
@@ -2,12 +2,18 @@
 github.com/atotto/clipboard v0.1.4/go.mod h1:ZY9tmq7sm5xIbd9bOK4onWV4S6X0u6GY7Vn0Yu86PYI=
 github.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=
 github.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=
+github.com/ebitengine/debugui v0.2.0-alpha.3 h1:nKRsf99KysJFSjW+qJcFPmG8aWhE6yWom8fPtpfVr7E=
+github.com/ebitengine/debugui v0.2.0-alpha.3/go.mod h1:VJOXCHzanETFESupjB7JykgiZLiJ+0WOM8UN3m7KNKQ=
 github.com/ebitengine/gomobile v0.0.0-20250329061421-6d0a8e981e4c h1:Ccgks2VROTr6bIm1FFxG2jT6P1DaCBMj8g/O9xbOQ08=
 github.com/ebitengine/gomobile v0.0.0-20250329061421-6d0a8e981e4c/go.mod h1:M6DDA2RbegvWBVv4Dq482lwyFTtMczT1A7UNm1qOYzY=
 github.com/ebitengine/hideconsole v1.0.0 h1:5J4U0kXF+pv/DhiXt5/lTz0eO5ogJ1iXb8Yj1yReDqE=
 github.com/ebitengine/hideconsole v1.0.0/go.mod h1:hTTBTvVYWKBuxPr7peweneWdkUwEuHuB3C1R/ielR1A=
-github.com/ebitengine/purego v0.9.0-alpha.6 h1:ePI8nFRfHEhVa3Bpm9rkheA3WynRBZkEU3bh1Sux6eg=
-github.com/ebitengine/purego v0.9.0-alpha.6/go.mod h1:iIjxzd6CiRiOG0UyXP+V1+jWqUXVjPKLAI0mRfJZTmQ=
+github.com/ebitengine/oto/v3 v3.4.0-alpha.7 h1:0rd2hzmixykApKPnLn0x39UWV3+mu/iNzfZ8YJfJBW8=
+github.com/ebitengine/oto/v3 v3.4.0-alpha.7/go.mod h1:poYRm0BcahJ49XN646C6Yg7wMc0gcwQNiC5ASQDCNnU=
+github.com/ebitengine/purego v0.9.0-alpha.7 h1:jvLN906GKVONohlBOCr34BxW+4KeAk1K1wfWdRRsl7Y=
+github.com/ebitengine/purego v0.9.0-alpha.7/go.mod h1:iIjxzd6CiRiOG0UyXP+V1+jWqUXVjPKLAI0mRfJZTmQ=
+github.com/gen2brain/mpeg v0.4.0 h1:2Ep3mUGbal4kWOTS9MHcGTswtWzW6+8huGLmZjQ9HdI=
+github.com/gen2brain/mpeg v0.4.0/go.mod h1:N37OJKAg3YeMfVqscgraoU6kwusr4pvA8aJK9QWPGiQ=
 github.com/go-text/typesetting v0.3.0 h1:OWCgYpp8njoxSRpwrdd1bQOxdjOXDj9Rqart9ML4iF4=
 github.com/go-text/typesetting v0.3.0/go.mod h1:qjZLkhRgOEYMhU9eHBr3AR4sfnGJvOXNLt8yRAySFuY=
 github.com/go-text/typesetting-utils v0.0.0-20241103174707-87a29e9e6066 h1:qCuYC+94v2xrb1PoS4NIDe7DGYtLnU2wWiQe9a1B1c0=
@@ -16,15 +22,24 @@
 github.com/google/go-cmp v0.6.0/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=
 github.com/hajimehoshi/bitmapfont/v4 v4.1.0-alpha h1:SctB+HjA7Y/7vFznHrf5h61WbX8wRfbBxQEcHbIEyfQ=
 github.com/hajimehoshi/bitmapfont/v4 v4.1.0-alpha/go.mod h1:9KdLJljAPdDiSz6KZK6s3iZl0m1HVvBgU68CYw3U2dk=
-github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.5.0.20250608152909-a034565163b5 h1:fxGfN/qRD8JwxHsgYY+KbA4TZgafhR1pzl9vDojYNuA=
-github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.5.0.20250608152909-a034565163b5/go.mod h1:zsAYrigQkT98T24vepoGva5ID7l0dfVre/ogh70b42g=
+github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.7 h1:fRLV4p+IVf6SjxjHbxya59sfulmFmDBKM/q4MoATbRA=
+github.com/hajimehoshi/ebiten/v2 v2.9.0-alpha.7/go.mod h1:Ks28MNcTgEZMizlwMB4RZZMIEsWiQFpywU2joQ06IuM=
+github.com/hajimehoshi/go-mp3 v0.3.4 h1:NUP7pBYH8OguP4diaTZ9wJbUbk3tC0KlfzsEpWmYj68=
+github.com/hajimehoshi/go-mp3 v0.3.4/go.mod h1:fRtZraRFcWb0pu7ok0LqyFhCUrPeMsGRSVop0eemFmo=
 github.com/hajimehoshi/oklab v0.1.0 h1:+ApSswl9LlB+8AYIC9ZaRO/r1emGtTF52YQleB3bW7w=
 github.com/hajimehoshi/oklab v0.1.0/go.mod h1:PQQ2H7nXuDlAr4pkdDRTfXp5tXdfIUKQpZbpZE7ugT4=
-github.com/jeandeaual/go-locale v0.0.0-20250421151639-a9d6ed1b3d45 h1:vFdvrlsVU+p/KFBWTq0lTG4fvWvG88sawGlCzM+RUEU=
-github.com/jeandeaual/go-locale v0.0.0-20250421151639-a9d6ed1b3d45/go.mod h1:ZDXo8KHryOWSIqnsb/CiDq7hQUYryCgdVnxbj8tDG7o=
+github.com/hajimehoshi/oto/v2 v2.3.1/go.mod h1:seWLbgHH7AyUMYKfKYT9pg7PhUu9/SisyJvNTT+ASQo=
+github.com/jakecoffman/cp/v2 v2.1.0 h1:s0almZ7zDZs9JY35ciUgCoVKTMmdPkokF1dxHg226Wo=
+github.com/jakecoffman/cp/v2 v2.1.0/go.mod h1:Q0hFU7Kk6PMw4dwgFtvBC6O4KTm7ewiLuHrXtHMicyU=
+github.com/jeandeaual/go-locale v0.0.0-20250612000132-0ef82f21eade h1:FmusiCI1wHw+XQbvL9M+1r/C3SPqKrmBaIOYwVfQoDE=
+github.com/jeandeaual/go-locale v0.0.0-20250612000132-0ef82f21eade/go.mod h1:ZDXo8KHryOWSIqnsb/CiDq7hQUYryCgdVnxbj8tDG7o=
 github.com/jessevdk/go-flags v1.4.0/go.mod h1:4FA24M0QyGHXBuZZK/XkWh8h0e1EYbRYJSGM75WSRxI=
 github.com/jezek/xgb v1.1.1 h1:bE/r8ZZtSv7l9gk6nU0mYx51aXrvnyb44892TwSaqS4=
 github.com/jezek/xgb v1.1.1/go.mod h1:nrhwO0FX/enq75I7Y7G8iN1ubpSGZEiA3v9e9GyRFlk=
+github.com/jfreymuth/oggvorbis v1.0.5 h1:u+Ck+R0eLSRhgq8WTmffYnrVtSztJcYrl588DM4e3kQ=
+github.com/jfreymuth/oggvorbis v1.0.5/go.mod h1:1U4pqWmghcoVsCJJ4fRBKv9peUJMBHixthRlBeD6uII=
+github.com/jfreymuth/vorbis v1.0.2 h1:m1xH6+ZI4thH927pgKD8JOH4eaGRm18rEE9/0WKjvNE=
+github.com/jfreymuth/vorbis v1.0.2/go.mod h1:DoftRo4AznKnShRl1GxiTFCseHr4zR9BN3TWXyuzrqQ=
 github.com/kisielk/errcheck v1.9.0 h1:9xt1zI9EBfcYBvdU1nVrzMzzUPUtPKs9bVSIM3TAb3M=
 github.com/kisielk/errcheck v1.9.0/go.mod h1:kQxWMMVZgIkDq7U8xtG/n2juOjbLgZtedi0D+/VL/i8=
 github.com/pierrec/lz4/v4 v4.1.22 h1:cKFw6uJDK+/gfw5BcDL0JL5aBsAFdsIT18eRtLj7VIU=
@@ -41,6 +56,7 @@
 golang.org/x/mod v0.25.0/go.mod h1:IXM97Txy2VM4PJ3gI61r1YEk/gAj6zAHN3AdZt6S9Ww=
 golang.org/x/sync v0.15.0 h1:KWH3jNZsfyT6xfAfKiz6MRNmd46ByHDYaZ7KSkCtdW8=
 golang.org/x/sync v0.15.0/go.mod h1:1dzgHSNfp02xaA81J2MS99Qcpr2w7fw1gpm99rleRqA=
+golang.org/x/sys v0.0.0-20220712014510-0a85c31ab51e/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=
 golang.org/x/sys v0.33.0 h1:q3i8TbbEz+JRD9ywIRlyRAQbM0qF7hu24q3teo2hbuw=
 golang.org/x/sys v0.33.0/go.mod h1:BJP2sWEmIv4KK5OTEluFJCKSidICx8ciO85XgH3Ak8k=
 golang.org/x/text v0.26.0 h1:P42AVeLghgTYr4+xUnTRKDMqpar+PtX7KWuNQL21L8M=
